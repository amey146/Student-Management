{% extends "base.html" %}

{% block title %}
Student Home
{% endblock title %}

{% block body %}
<div class="container my-5">
    <h1 class="text-center mb-4">Student Home</h1>

    <div class="mb-3 text-center">
        <a class="btn btn-primary btn-lg" href="{% url 'student_add' %}">
            <i class="fas fa-user-plus"></i> Add Student
        </a>
    </div>

    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th class="bg-dark-blue">Serial No</th>
                    <th class="bg-dark-blue">Roll No</th>
                    <th class="bg-dark-blue">First Name</th>
                    <th class="bg-dark-blue">Last Name</th>
                    <th class="bg-dark-blue">DOB</th>
                    <th class="bg-dark-blue">Gender</th>
                    <th class="bg-dark-blue">Student Email</th>
                    <th class="bg-dark-blue">Parent's Email</th>
                    <th class="bg-dark-blue">Phone No</th>
                    <th class="bg-dark-blue">Address</th>
                    <th class="bg-dark-blue">Courses</th>
                    <th class="bg-dark-blue">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for s in std %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ s.st_id }}</td>
                    <td>{{ s.fname }}</td>
                    <td>{{ s.lname }}</td>
                    <td>{{ s.dob }}</td>
                    <td>{{ s.gender }}</td>
                    <td>{{ s.st_email }}</td>
                    <td>{{ s.pr_email }}</td>
                    <td>{{ s.phone }}</td>
                    <td>{{ s.address }}</td>
                    <td>
                        {% for course in s.courses.all %}
                            {{ course.cname }}{% if not forloop.last %}, {% endif %}
                        {% endfor %}
                    </td>
                    <td>
                        <div class="btn-group">
                            <a href="/studentmgt/student_delete/{{ s.st_id }}" class="btn btn-danger btn-sm">
                                <i class="fas fa-trash-alt"></i> Delete
                            </a>
                            <a href="/studentmgt/student_update/{{ s.st_id }}" class="btn btn-success btn-sm">
                                <i class="fas fa-edit"></i> Update
                            </a>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<style>
    /* Font size adjustments */
    .table th, .table td {
        font-size: 0.9rem; /* Slightly smaller font size */
        padding: 0.75rem; /* Padding for readability */
        white-space: nowrap; /* Prevent line breaks */
    }

    .btn-lg {
        font-size: 1.125rem; /* Larger font size for buttons */
        padding: 0.5rem 1rem; /* Adjusted padding */
    }

    .btn-group {
        display: flex; /* Align buttons in a row */
        gap: 0.5rem; /* Space between buttons */
    }

    /* Button styles */
    .btn-danger {
        background-color: #dc3545; /* Red background */
        border-color: #dc3545; /* Red border */
    }

    .btn-danger:hover {
        background-color: #c82333; /* Darker red on hover */
        border-color: #bd2130; /* Darker red border on hover */
    }

    .btn-success {
        background-color: #28a745; /* Green background */
        border-color: #28a745; /* Green border */
    }

    .btn-success:hover {
        background-color: #218838; /* Darker green on hover */
        border-color: #1e7e34; /* Darker green border on hover */
    }

    /* Ensure the container uses full width */
    .container {
        max-width: 1200px; /* Set a max-width for larger screens */
        padding: 0 15px; /* Padding for better spacing */
    }

    /* Responsive table adjustments */
    .table-responsive {
        overflow-x: auto; /* Horizontal scrolling for large tables */
        margin: 0; /* No margin for alignment */
    }

    /* Table styling */
    .table {
        margin-bottom: 1rem; /* Space below the table */
        width: 100%; /* Full width of the container */
        border: 1px solid #dee2e6; /* Add border for table */
        border-radius: 0.375rem; /* Rounded corners */
    }

    .table th {
        text-align: left; /* Align text to the left */
        vertical-align: middle; /* Align vertically in the middle */
        background-color: #0b2e59; /* Dark blue background for headers */
        color: white; /* White text color for contrast */
    }

    .table td {
        vertical-align: middle; /* Align vertically in the middle */
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #f2f2f2; /* Alternate row color for readability */
    }

    .table-bordered {
        border: 1px solid #dee2e6; /* Border for the table */
    }

    .table-bordered th, .table-bordered td {
        border: 1px solid #dee2e6; /* Border for cells */
    }
</style>
{% endblock body %}
